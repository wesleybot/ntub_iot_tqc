<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>IoT 題庫 — 測驗</title>
  <link rel="icon" type="image/png" sizes="32x32" href="iot_web_icon.png">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="css/quiz.css" rel="stylesheet">
</head>
<body id="top">

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
    <div class="container">
      <a class="navbar-brand fw-semibold" href="index.html">TQC物聯網與雲端運算</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav" aria-label="切換導覽">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="mainNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="iot_question.html">背題庫</a></li>
          <li class="nav-item"><a class="nav-link active" aria-current="page" href="quiz.html">測驗</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- 控制列 -->
  <div class="sticky-controls">
    <div class="container narrow">
      <div class="row g-2 align-items-end">
        <div class="col-12 col-sm-6 col-lg-5">
          <label for="catSel" class="form-label mb-1">選擇大類</label>
          <select id="catSel" class="form-select">
            <option value="1">第一類</option>
            <option value="2">第二類</option>
            <option value="3">第三類</option>
            <option value="4">第四類</option>
            <option value="5">第五類</option>
            <option value="6">第六類</option>
          </select>
        </div>
        <div class="col-12 col-sm-auto">
          <div class="form-check mt-2 mt-sm-4">
            <input class="form-check-input" type="checkbox" id="shuffleChk">
            <label class="form-check-label" for="shuffleChk">打亂題目</label>
          </div>
        </div>
        <div class="col d-flex justify-content-sm-end mt-2 mt-sm-4 gap-2">
          <button id="startBtn" class="btn btn-success">開始測驗</button>
          <button id="submitBtn" class="btn btn-primary" disabled>提交答案</button>
          <button id="resetBtn" class="btn btn-outline-secondary">再次複習</button>
        </div>
      </div>
      <div id="status" class="text-muted small mt-2">
        請先選擇「大類」與是否「打亂題目」，再按「開始測驗」。
      </div>
    </div>
  </div>

  <!-- 題目列表與結果 -->
  <div class="container narrow">
    <div id="list" class="mt-3"></div>

    <div id="result" class="alert alert-info d-none mt-3"></div>

    <!-- 匯出工具列（提交後才顯示） -->
    <div id="exportBar" class="d-none mt-2">
      <div class="row g-2">
        <div class="col-12 col-sm-auto">
          <button id="downloadCsvBtn" class="btn btn-outline-primary w-100">下載 CSV</button>
        </div>
        <div class="col-12 col-sm-auto">
          <button id="downloadJsonBtn" class="btn btn-outline-dark w-100">下載 JSON</button>
        </div>
        <div class="col d-flex align-items-center">
          <div class="text-muted small">（含：大類、是否打亂、時間戳、每題題幹/選項/正解/作答/對錯）</div>
        </div>
      </div>
    </div>
  </div>

  <!-- 回到頂部 -->
  <a href="#top" id="backToTop" class="btn btn-secondary shadow" aria-label="回到頂部">↑</a>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="js/quiz.js"></script>
</body>
</html>
